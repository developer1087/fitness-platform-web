(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[413],{4402:(e,a,t)=>{"use strict";t.d(a,{ForgotPasswordForm:()=>d});var r=t(5155),i=t(2115),s=t(2544),n=t(6942),l=t(8576),o=t(9399);function d(){let{resetPassword:e,loading:a,error:t}=(0,l.A)(),[d,c]=(0,i.useState)(!1),{register:m,handleSubmit:u,formState:{errors:h,isSubmitting:f},getValues:g}=(0,s.mN)({resolver:(0,n.u)(o.oW),mode:"onBlur"}),p=async a=>{try{await e(a.email),c(!0)}catch(e){console.error("Password reset failed:",e)}};return d?(0,r.jsx)("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCE7"}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Check Your Email"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["We've sent a password reset link to ",(0,r.jsx)("strong",{children:g("email")})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Don't see the email? Check your spam folder or try again."}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("a",{href:"/auth/login",className:"block w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors text-center",children:"Back to Sign In"}),(0,r.jsx)("button",{onClick:()=>c(!1),className:"block w-full text-blue-600 hover:text-blue-800 text-sm",children:"Try a different email"})]})]})}):(0,r.jsxs)("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-2 text-gray-800",children:"Reset Your Password"}),(0,r.jsx)("p",{className:"text-gray-600 text-center mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),t&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded",children:t}),(0,r.jsxs)("form",{onSubmit:u(p),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",...m("email"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.email?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email address"}),h.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,r.jsx)("button",{type:"submit",disabled:a||f,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a||f?"Sending...":"Send Reset Link"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("a",{href:"/auth/login",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"← Back to Sign In"})})]})}},4585:(e,a,t)=>{"use strict";t.d(a,{IG:()=>m,db:()=>c,j2:()=>d});var r=t(2078),i=t(9253),s=t(9708),n=t(8134);let l={apiKey:"AIzaSyBv4edZFdKq5UieQchPC3SXjDtKXuUYsd0",authDomain:"fitness-platform-us-1759049736.firebaseapp.com",projectId:"fitness-platform-us-1759049736",storageBucket:"fitness-platform-us-1759049736.firebasestorage.app",messagingSenderId:"388593504795",appId:"1:388593504795:web:f0c3b2e60b3076d2cd9ebe",measurementId:"G-657169BEFM"},o=l.apiKey&&l.projectId?0===(0,r.Dk)().length?(0,r.Wp)(l):(0,r.Dk)()[0]:(console.warn("Firebase configuration missing, skipping initialization"),null),d=o?(0,i.xI)(o):null,c=o?(0,s.aU)(o):null,m=o?(0,n.c7)(o):null},5052:(e,a,t)=>{Promise.resolve().then(t.bind(t,4402))},7886:(e,a,t)=>{"use strict";t.d(a,{y:()=>n});var r=t(9253),i=t(9708),s=t(4585);let n={async signIn(e){if(!s.j2)throw Error("Firebase Auth not initialized");let{email:a,password:t}=e,i=await (0,r.x9)(s.j2,a,t);return await this.createUserObject(i.user)},async signInWithGoogle(){if(!s.j2)throw Error("Firebase Auth not initialized");let e=new r.HF,a=(await (0,r.df)(s.j2,e)).user;if(!await this.getUserProfile(a.uid)){let[e="",t=""]=(a.displayName||"").split(" ");await this.createUserProfile(a.uid,{firstName:e,lastName:t,preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}})}return await this.createUserObject(a)},async signUp(e){if(!s.j2)throw Error("Firebase Auth not initialized");let{email:a,password:t,firstName:i,lastName:n}=e,l=(await (0,r.eJ)(s.j2,a,t)).user;return await (0,r.r7)(l,{displayName:"".concat(i," ").concat(n)}),await this.createUserProfile(l.uid,{firstName:i,lastName:n,preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}}),await this.createUserObject(l)},async signOut(){if(!s.j2)throw Error("Firebase Auth not initialized");await (0,r.CI)(s.j2)},async resetPassword(e){if(!s.j2)throw Error("Firebase Auth not initialized");await (0,r.J1)(s.j2,e)},async createUserProfile(e,a){if(!s.db)throw Error("Firebase Firestore not initialized");let t=(0,i.H9)(s.db,"users",e);await (0,i.BN)(t,{...a,role:"user",createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()})},async updateUserProfile(e,a){if(!s.db)throw Error("Firebase Firestore not initialized");let t=(0,i.H9)(s.db,"users",e);await (0,i.mZ)(t,a)},async getUserProfile(e){if(!s.db)return null;let a=(0,i.H9)(s.db,"users",e),t=await (0,i.x7)(a);return t.exists()?t.data():null},async createUserObject(e){let a=await this.getUserProfile(e.uid);return{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:e.metadata.creationTime||new Date().toISOString(),lastLoginAt:e.metadata.lastSignInTime||new Date().toISOString(),role:"user",profile:a||{firstName:"",lastName:"",preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}}}}}},8576:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>d,A:()=>c});var r=t(5155),i=t(2115),s=t(9253),n=t(4585),l=t(7886);let o=(0,i.createContext)(null);function d(e){let{children:a}=e,[t,d]=(0,i.useState)(null),[c,m]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null);(0,i.useEffect)(()=>n.j2?(0,s.hg)(n.j2,async e=>{try{if(m(!0),h(null),e){let a=await l.y.createUserObject(e);d(a)}else d(null)}catch(e){h(e instanceof Error?e.message:"Authentication error"),d(null)}finally{m(!1)}}):void m(!1),[]);let f=async e=>{try{m(!0),h(null),await l.y.signIn(e),window.location.href="/"}catch(e){throw h(e instanceof Error?e.message:"Sign in failed"),e}finally{m(!1)}},g=async()=>{try{m(!0),h(null),await l.y.signInWithGoogle(),window.location.href="/"}catch(e){throw h(e instanceof Error?e.message:"Google sign in failed"),e}finally{m(!1)}},p=async e=>{try{m(!0),h(null),await l.y.signUp(e),window.location.href="/"}catch(e){throw h(e instanceof Error?e.message:"Sign up failed"),e}finally{m(!1)}},w=async()=>{try{m(!0),h(null),await l.y.signOut()}catch(e){throw h(e instanceof Error?e.message:"Sign out failed"),e}finally{m(!1)}},b=async e=>{try{h(null),await l.y.resetPassword(e)}catch(e){throw h(e instanceof Error?e.message:"Password reset failed"),e}};return(0,r.jsx)(o.Provider,{value:{user:t,loading:c,error:u,signIn:f,signInWithGoogle:g,signUp:p,signOut:w,resetPassword:b,clearError:()=>{h(null)}},children:a})}function c(){let e=(0,i.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9399:(e,a,t)=>{"use strict";t.d(a,{O5:()=>s,X5:()=>i,b6:()=>l,oW:()=>n});var r=t(1508);let i=r.Ikc({email:r.YjP().min(1,"Email is required").email("Please enter a valid email address"),password:r.YjP().min(1,"Password is required").min(6,"Password must be at least 6 characters")}),s=r.Ikc({firstName:r.YjP().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:r.YjP().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:r.YjP().min(1,"Email is required").email("Please enter a valid email address"),password:r.YjP().min(1,"Password is required").min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:r.YjP().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),n=r.Ikc({email:r.YjP().min(1,"Email is required").email("Please enter a valid email address")}),l=r.Ikc({firstName:r.YjP().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:r.YjP().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:r.YjP().min(1,"Email is required").email("Please enter a valid email address"),fitnessLevel:r.k5n(["beginner","intermediate","advanced"]).optional(),goals:r.YOg(r.YjP()).optional(),notes:r.YjP().max(500,"Notes must be less than 500 characters").optional()});r.Ikc({id:r.YjP(),trainerId:r.YjP(),email:r.YjP().email(),firstName:r.YjP(),lastName:r.YjP(),fitnessLevel:r.k5n(["beginner","intermediate","advanced"]).optional(),goals:r.YOg(r.YjP()).optional(),notes:r.YjP().optional(),status:r.k5n(["pending","accepted","expired"]),inviteToken:r.YjP(),invitedAt:r.YjP(),acceptedAt:r.YjP().optional(),expiresAt:r.YjP()}),r.Ikc({id:r.YjP(),userId:r.YjP().optional(),trainerId:r.YjP(),firstName:r.YjP(),lastName:r.YjP(),email:r.YjP().email(),phone:r.YjP().optional(),profilePicture:r.YjP().optional(),joinDate:r.YjP(),status:r.k5n(["pending","active","inactive","trial"]),fitnessLevel:r.k5n(["beginner","intermediate","advanced"]),goals:r.YOg(r.YjP()),notes:r.YjP().optional(),lastSession:r.YjP().optional(),totalSessions:r.aig().min(0),invitationId:r.YjP().optional()})}},e=>{e.O(0,[992,416,914,508,942,441,493,358],()=>e(e.s=5052)),_N_E=e.O()}]);