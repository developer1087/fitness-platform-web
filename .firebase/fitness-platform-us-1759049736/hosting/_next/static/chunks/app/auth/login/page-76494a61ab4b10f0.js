(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{937:(e,a,t)=>{"use strict";t.d(a,{O5:()=>r.O5,X5:()=>r.X5,b6:()=>r.b6});var r=t(9399)},3058:(e,a,t)=>{Promise.resolve().then(t.bind(t,3319))},3319:(e,a,t)=>{"use strict";t.d(a,{LoginForm:()=>d});var r=t(5155),s=t(2115),i=t(2544),n=t(6942),o=t(8576),l=t(937);function d(){let{signIn:e,signInWithGoogle:a,loading:t,error:d}=(0,o.A)(),[c,m]=(0,s.useState)(!1),{register:u,handleSubmit:h,formState:{errors:f,isSubmitting:p}}=(0,i.mN)({resolver:(0,n.u)(l.X5),mode:"onBlur"}),g=async a=>{try{await e(a)}catch(e){console.error("Login failed:",e)}},b=async()=>{try{await a()}catch(e){console.error("Google sign in failed:",e)}};return(0,r.jsxs)("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Welcome Back"}),d&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded",children:d}),(0,r.jsxs)("form",{onSubmit:h(g),className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",...u("email"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(f.email?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your email"}),f.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:c?"text":"password",id:"password",...u("password"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 ".concat(f.password?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Enter your password"}),(0,r.jsx)("button",{type:"button",onClick:()=>m(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:c?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),f.password&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]}),(0,r.jsx)("button",{type:"submit",disabled:t||p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t||p?"Signing In...":"Sign In"})]}),(0,r.jsxs)("div",{className:"mt-6 mb-6 flex items-center",children:[(0,r.jsx)("div",{className:"flex-1 border-t border-gray-300"}),(0,r.jsx)("span",{className:"px-4 text-sm text-gray-500",children:"or"}),(0,r.jsx)("div",{className:"flex-1 border-t border-gray-300"})]}),(0,r.jsxs)("button",{onClick:b,disabled:t,className:"w-full bg-white text-gray-700 py-2 px-4 rounded-md border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,r.jsx)("span",{children:t?"Signing In...":"Continue with Google"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("a",{href:"/auth/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Forgot your password?"})}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)("a",{href:"/auth/signup",className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:"Sign up here"})]})})]})}},4585:(e,a,t)=>{"use strict";t.d(a,{IG:()=>m,db:()=>c,j2:()=>d});var r=t(2078),s=t(9253),i=t(9708),n=t(8134);let o={apiKey:"AIzaSyBv4edZFdKq5UieQchPC3SXjDtKXuUYsd0",authDomain:"fitness-platform-us-1759049736.firebaseapp.com",projectId:"fitness-platform-us-1759049736",storageBucket:"fitness-platform-us-1759049736.firebasestorage.app",messagingSenderId:"388593504795",appId:"1:388593504795:web:f0c3b2e60b3076d2cd9ebe",measurementId:"G-657169BEFM"},l=o.apiKey&&o.projectId?0===(0,r.Dk)().length?(0,r.Wp)(o):(0,r.Dk)()[0]:(console.warn("Firebase configuration missing, skipping initialization"),null),d=l?(0,s.xI)(l):null,c=l?(0,i.aU)(l):null,m=l?(0,n.c7)(l):null},7886:(e,a,t)=>{"use strict";t.d(a,{y:()=>n});var r=t(9253),s=t(9708),i=t(4585);let n={async signIn(e){if(!i.j2)throw Error("Firebase Auth not initialized");let{email:a,password:t}=e,s=await (0,r.x9)(i.j2,a,t);return await this.createUserObject(s.user)},async signInWithGoogle(){if(!i.j2)throw Error("Firebase Auth not initialized");let e=new r.HF,a=(await (0,r.df)(i.j2,e)).user;if(!await this.getUserProfile(a.uid)){let[e="",t=""]=(a.displayName||"").split(" ");await this.createUserProfile(a.uid,{firstName:e,lastName:t,preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}})}return await this.createUserObject(a)},async signUp(e){if(!i.j2)throw Error("Firebase Auth not initialized");let{email:a,password:t,firstName:s,lastName:n}=e,o=(await (0,r.eJ)(i.j2,a,t)).user;return await (0,r.r7)(o,{displayName:"".concat(s," ").concat(n)}),await this.createUserProfile(o.uid,{firstName:s,lastName:n,preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}}),await this.createUserObject(o)},async signOut(){if(!i.j2)throw Error("Firebase Auth not initialized");await (0,r.CI)(i.j2)},async resetPassword(e){if(!i.j2)throw Error("Firebase Auth not initialized");await (0,r.J1)(i.j2,e)},async createUserProfile(e,a){if(!i.db)throw Error("Firebase Firestore not initialized");let t=(0,s.H9)(i.db,"users",e);await (0,s.BN)(t,{...a,role:"user",createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()})},async updateUserProfile(e,a){if(!i.db)throw Error("Firebase Firestore not initialized");let t=(0,s.H9)(i.db,"users",e);await (0,s.mZ)(t,a)},async getUserProfile(e){if(!i.db)return null;let a=(0,s.H9)(i.db,"users",e),t=await (0,s.x7)(a);return t.exists()?t.data():null},async createUserObject(e){let a=await this.getUserProfile(e.uid);return{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:e.metadata.creationTime||new Date().toISOString(),lastLoginAt:e.metadata.lastSignInTime||new Date().toISOString(),role:"user",profile:a||{firstName:"",lastName:"",preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}}}}}},8576:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>d,A:()=>c});var r=t(5155),s=t(2115),i=t(9253),n=t(4585),o=t(7886);let l=(0,s.createContext)(null);function d(e){let{children:a}=e,[t,d]=(0,s.useState)(null),[c,m]=(0,s.useState)(!0),[u,h]=(0,s.useState)(null);(0,s.useEffect)(()=>n.j2?(0,i.hg)(n.j2,async e=>{try{if(m(!0),h(null),e){let a=await o.y.createUserObject(e);d(a)}else d(null)}catch(e){h(e instanceof Error?e.message:"Authentication error"),d(null)}finally{m(!1)}}):void m(!1),[]);let f=async e=>{try{m(!0),h(null),await o.y.signIn(e),window.location.href="/"}catch(e){throw h(e instanceof Error?e.message:"Sign in failed"),e}finally{m(!1)}},p=async()=>{try{m(!0),h(null),await o.y.signInWithGoogle(),window.location.href="/"}catch(e){throw h(e instanceof Error?e.message:"Google sign in failed"),e}finally{m(!1)}},g=async e=>{try{m(!0),h(null),await o.y.signUp(e),window.location.href="/"}catch(e){throw h(e instanceof Error?e.message:"Sign up failed"),e}finally{m(!1)}},b=async()=>{try{m(!0),h(null),await o.y.signOut()}catch(e){throw h(e instanceof Error?e.message:"Sign out failed"),e}finally{m(!1)}},w=async e=>{try{h(null),await o.y.resetPassword(e)}catch(e){throw h(e instanceof Error?e.message:"Password reset failed"),e}};return(0,r.jsx)(l.Provider,{value:{user:t,loading:c,error:u,signIn:f,signInWithGoogle:p,signUp:g,signOut:b,resetPassword:w,clearError:()=>{h(null)}},children:a})}function c(){let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9399:(e,a,t)=>{"use strict";t.d(a,{O5:()=>i,X5:()=>s,b6:()=>o,oW:()=>n});var r=t(1508);let s=r.Ikc({email:r.YjP().min(1,"Email is required").email("Please enter a valid email address"),password:r.YjP().min(1,"Password is required").min(6,"Password must be at least 6 characters")}),i=r.Ikc({firstName:r.YjP().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:r.YjP().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:r.YjP().min(1,"Email is required").email("Please enter a valid email address"),password:r.YjP().min(1,"Password is required").min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:r.YjP().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),n=r.Ikc({email:r.YjP().min(1,"Email is required").email("Please enter a valid email address")}),o=r.Ikc({firstName:r.YjP().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:r.YjP().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:r.YjP().min(1,"Email is required").email("Please enter a valid email address"),fitnessLevel:r.k5n(["beginner","intermediate","advanced"]).optional(),goals:r.YOg(r.YjP()).optional(),notes:r.YjP().max(500,"Notes must be less than 500 characters").optional()});r.Ikc({id:r.YjP(),trainerId:r.YjP(),email:r.YjP().email(),firstName:r.YjP(),lastName:r.YjP(),fitnessLevel:r.k5n(["beginner","intermediate","advanced"]).optional(),goals:r.YOg(r.YjP()).optional(),notes:r.YjP().optional(),status:r.k5n(["pending","accepted","expired"]),inviteToken:r.YjP(),invitedAt:r.YjP(),acceptedAt:r.YjP().optional(),expiresAt:r.YjP()}),r.Ikc({id:r.YjP(),userId:r.YjP().optional(),trainerId:r.YjP(),firstName:r.YjP(),lastName:r.YjP(),email:r.YjP().email(),phone:r.YjP().optional(),profilePicture:r.YjP().optional(),joinDate:r.YjP(),status:r.k5n(["pending","active","inactive","trial"]),fitnessLevel:r.k5n(["beginner","intermediate","advanced"]),goals:r.YOg(r.YjP()),notes:r.YjP().optional(),lastSession:r.YjP().optional(),totalSessions:r.aig().min(0),invitationId:r.YjP().optional()})}},e=>{e.O(0,[992,416,914,508,942,441,493,358],()=>e(e.s=3058)),_N_E=e.O()}]);