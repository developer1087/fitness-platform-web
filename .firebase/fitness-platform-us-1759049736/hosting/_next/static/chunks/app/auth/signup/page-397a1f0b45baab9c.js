(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{937:(e,r,a)=>{"use strict";a.d(r,{O5:()=>s.O5,X5:()=>s.X5,b6:()=>s.b6});var s=a(9399)},1620:(e,r,a)=>{"use strict";a.d(r,{SignupForm:()=>c});var s=a(5155),t=a(2115),i=a(2544),n=a(6942),o=a(8576),l=a(937);function c(){let{signUp:e,signInWithGoogle:r,loading:a,error:c}=(0,o.A)(),[d,m]=(0,t.useState)(!1),{register:u,handleSubmit:f,formState:{errors:h,isSubmitting:p}}=(0,i.mN)({resolver:(0,n.u)(l.O5),mode:"onBlur"}),g=async r=>{try{await e(r)}catch(e){console.error("Signup failed:",e)}},b=async()=>{try{await r()}catch(e){console.error("Google sign up failed:",e)}};return(0,s.jsxs)("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Join Fitness Platform"}),c&&(0,s.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded",children:c}),(0,s.jsxs)("form",{onSubmit:f(g),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),(0,s.jsx)("input",{type:"text",id:"firstName",...u("firstName"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.firstName?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"John"}),h.firstName&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.firstName.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,s.jsx)("input",{type:"text",id:"lastName",...u("lastName"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.lastName?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Doe"}),h.lastName&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.lastName.message})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",...u("email"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.email?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"john@example.com"}),h.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:d?"text":"password",id:"password",...u("password"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10 ".concat(h.password?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"At least 6 characters"}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700",children:d?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),h.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.password.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,s.jsx)("input",{type:d?"text":"password",id:"confirmPassword",...u("confirmPassword"),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(h.confirmPassword?"border-red-300 focus:ring-red-500":"border-gray-300"),placeholder:"Confirm your password"}),h.confirmPassword&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h.confirmPassword.message})]}),(0,s.jsx)("button",{type:"submit",disabled:a||p,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a||p?"Creating Account...":"Create Account"})]}),(0,s.jsxs)("div",{className:"flex items-center my-6",children:[(0,s.jsx)("div",{className:"flex-1 border-t border-gray-300"}),(0,s.jsx)("span",{className:"px-4 text-sm text-gray-500",children:"or"}),(0,s.jsx)("div",{className:"flex-1 border-t border-gray-300"})]}),(0,s.jsxs)("button",{onClick:b,disabled:a,className:"w-full bg-white text-gray-700 py-2 px-4 rounded-md border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,s.jsx)("span",{children:a?"Signing Up...":"Continue with Google"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)("a",{href:"/auth/login",className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:"Sign in here"})]})}),(0,s.jsxs)("div",{className:"mt-4 text-xs text-gray-500 text-center",children:["By creating an account, you agree to our"," ",(0,s.jsx)("a",{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",(0,s.jsx)("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]})}},4585:(e,r,a)=>{"use strict";a.d(r,{IG:()=>m,db:()=>d,j2:()=>c});var s=a(2078),t=a(9253),i=a(9708),n=a(8134);let o={apiKey:"AIzaSyBv4edZFdKq5UieQchPC3SXjDtKXuUYsd0",authDomain:"fitness-platform-us-1759049736.firebaseapp.com",projectId:"fitness-platform-us-1759049736",storageBucket:"fitness-platform-us-1759049736.firebasestorage.app",messagingSenderId:"388593504795",appId:"1:388593504795:web:f0c3b2e60b3076d2cd9ebe",measurementId:"G-657169BEFM"},l=o.apiKey&&o.projectId?0===(0,s.Dk)().length?(0,s.Wp)(o):(0,s.Dk)()[0]:(console.warn("Firebase configuration missing, skipping initialization"),null),c=l?(0,t.xI)(l):null,d=l?(0,i.aU)(l):null,m=l?(0,n.c7)(l):null},4944:(e,r,a)=>{Promise.resolve().then(a.bind(a,1620))},7886:(e,r,a)=>{"use strict";a.d(r,{y:()=>n});var s=a(9253),t=a(9708),i=a(4585);let n={async signIn(e){if(!i.j2)throw Error("Firebase Auth not initialized");let{email:r,password:a}=e,t=await (0,s.x9)(i.j2,r,a);return await this.createUserObject(t.user)},async signInWithGoogle(){if(!i.j2)throw Error("Firebase Auth not initialized");let e=new s.HF,r=(await (0,s.df)(i.j2,e)).user;if(!await this.getUserProfile(r.uid)){let[e="",a=""]=(r.displayName||"").split(" ");await this.createUserProfile(r.uid,{firstName:e,lastName:a,preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}})}return await this.createUserObject(r)},async signUp(e){if(!i.j2)throw Error("Firebase Auth not initialized");let{email:r,password:a,firstName:t,lastName:n}=e,o=(await (0,s.eJ)(i.j2,r,a)).user;return await (0,s.r7)(o,{displayName:"".concat(t," ").concat(n)}),await this.createUserProfile(o.uid,{firstName:t,lastName:n,preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}}),await this.createUserObject(o)},async signOut(){if(!i.j2)throw Error("Firebase Auth not initialized");await (0,s.CI)(i.j2)},async resetPassword(e){if(!i.j2)throw Error("Firebase Auth not initialized");await (0,s.J1)(i.j2,e)},async createUserProfile(e,r){if(!i.db)throw Error("Firebase Firestore not initialized");let a=(0,t.H9)(i.db,"users",e);await (0,t.BN)(a,{...r,role:"user",createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()})},async updateUserProfile(e,r){if(!i.db)throw Error("Firebase Firestore not initialized");let a=(0,t.H9)(i.db,"users",e);await (0,t.mZ)(a,r)},async getUserProfile(e){if(!i.db)return null;let r=(0,t.H9)(i.db,"users",e),a=await (0,t.x7)(r);return a.exists()?a.data():null},async createUserObject(e){let r=await this.getUserProfile(e.uid);return{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,createdAt:e.metadata.creationTime||new Date().toISOString(),lastLoginAt:e.metadata.lastSignInTime||new Date().toISOString(),role:"user",profile:r||{firstName:"",lastName:"",preferences:{workoutReminders:!0,emailNotifications:!0,pushNotifications:!0,privacySettings:{profileVisibility:"friends",workoutDataSharing:!1,progressSharing:!1}}}}}}},8576:(e,r,a)=>{"use strict";a.d(r,{AuthProvider:()=>c,A:()=>d});var s=a(5155),t=a(2115),i=a(9253),n=a(4585),o=a(7886);let l=(0,t.createContext)(null);function c(e){let{children:r}=e,[a,c]=(0,t.useState)(null),[d,m]=(0,t.useState)(!0),[u,f]=(0,t.useState)(null);(0,t.useEffect)(()=>n.j2?(0,i.hg)(n.j2,async e=>{try{if(m(!0),f(null),e){let r=await o.y.createUserObject(e);c(r)}else c(null)}catch(e){f(e instanceof Error?e.message:"Authentication error"),c(null)}finally{m(!1)}}):void m(!1),[]);let h=async e=>{try{m(!0),f(null),await o.y.signIn(e),window.location.href="/"}catch(e){throw f(e instanceof Error?e.message:"Sign in failed"),e}finally{m(!1)}},p=async()=>{try{m(!0),f(null),await o.y.signInWithGoogle(),window.location.href="/"}catch(e){throw f(e instanceof Error?e.message:"Google sign in failed"),e}finally{m(!1)}},g=async e=>{try{m(!0),f(null),await o.y.signUp(e),window.location.href="/"}catch(e){throw f(e instanceof Error?e.message:"Sign up failed"),e}finally{m(!1)}},b=async()=>{try{m(!0),f(null),await o.y.signOut()}catch(e){throw f(e instanceof Error?e.message:"Sign out failed"),e}finally{m(!1)}},x=async e=>{try{f(null),await o.y.resetPassword(e)}catch(e){throw f(e instanceof Error?e.message:"Password reset failed"),e}};return(0,s.jsx)(l.Provider,{value:{user:a,loading:d,error:u,signIn:h,signInWithGoogle:p,signUp:g,signOut:b,resetPassword:x,clearError:()=>{f(null)}},children:r})}function d(){let e=(0,t.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},9399:(e,r,a)=>{"use strict";a.d(r,{O5:()=>i,X5:()=>t,b6:()=>o,oW:()=>n});var s=a(1508);let t=s.Ikc({email:s.YjP().min(1,"Email is required").email("Please enter a valid email address"),password:s.YjP().min(1,"Password is required").min(6,"Password must be at least 6 characters")}),i=s.Ikc({firstName:s.YjP().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:s.YjP().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:s.YjP().min(1,"Email is required").email("Please enter a valid email address"),password:s.YjP().min(1,"Password is required").min(6,"Password must be at least 6 characters").max(100,"Password must be less than 100 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:s.YjP().min(1,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),n=s.Ikc({email:s.YjP().min(1,"Email is required").email("Please enter a valid email address")}),o=s.Ikc({firstName:s.YjP().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must be less than 50 characters"),lastName:s.YjP().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must be less than 50 characters"),email:s.YjP().min(1,"Email is required").email("Please enter a valid email address"),fitnessLevel:s.k5n(["beginner","intermediate","advanced"]).optional(),goals:s.YOg(s.YjP()).optional(),notes:s.YjP().max(500,"Notes must be less than 500 characters").optional()});s.Ikc({id:s.YjP(),trainerId:s.YjP(),email:s.YjP().email(),firstName:s.YjP(),lastName:s.YjP(),fitnessLevel:s.k5n(["beginner","intermediate","advanced"]).optional(),goals:s.YOg(s.YjP()).optional(),notes:s.YjP().optional(),status:s.k5n(["pending","accepted","expired"]),inviteToken:s.YjP(),invitedAt:s.YjP(),acceptedAt:s.YjP().optional(),expiresAt:s.YjP()}),s.Ikc({id:s.YjP(),userId:s.YjP().optional(),trainerId:s.YjP(),firstName:s.YjP(),lastName:s.YjP(),email:s.YjP().email(),phone:s.YjP().optional(),profilePicture:s.YjP().optional(),joinDate:s.YjP(),status:s.k5n(["pending","active","inactive","trial"]),fitnessLevel:s.k5n(["beginner","intermediate","advanced"]),goals:s.YOg(s.YjP()),notes:s.YjP().optional(),lastSession:s.YjP().optional(),totalSessions:s.aig().min(0),invitationId:s.YjP().optional()})}},e=>{e.O(0,[992,416,914,508,942,441,493,358],()=>e(e.s=4944)),_N_E=e.O()}]);